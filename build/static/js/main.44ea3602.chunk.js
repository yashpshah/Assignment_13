(this.webpackJsonpassignment13=this.webpackJsonpassignment13||[]).push([[0],{10:function(e,t,n){e.exports=n(16)},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),l=n.n(c),o=(n(15),n(2)),i=n(3),s=n(5),u=n(4),d=n(1),h=n(6),m=n(9),p=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){var t=e.target.value,n=e.target.name;this.props.onFilter(Object(m.a)({},n,t))}},{key:"render",value:function(){return r.a.createElement("form",null,r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search...",name:"filterText",onChange:this.handleChange}))}}]),t}(a.Component),b=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).destroy=n.destroy.bind(Object(d.a)(n)),n.edit=n.edit.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"edit",value:function(){this.props.onEdit(this.props.product.id)}},{key:"destroy",value:function(){this.props.onDestroy(this.props.product.id)}},{key:"render",value:function(){var e=this.props.product.product;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.category),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.instock?"Yes":"No"),r.a.createElement("td",{className:"text-right"},r.a.createElement("button",{onClick:this.edit,className:"btn btn-warning mr-2"},"Edit"),r.a.createElement("button",{onClick:this.destroy,className:"btn btn-danger"},"Delete")))}}]),t}(a.Component),f=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleEdit=n.handleEdit.bind(Object(d.a)(n)),n.handleDestroy=n.handleDestroy.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleEdit",value:function(e){this.props.onEdit(e)}},{key:"handleDestroy",value:function(e){this.props.onDestroy(e)}},{key:"render",value:function(){var e=this,t=this.props.products,n=[];return t.forEach((function(t){-1!==t.product.name.indexOf(e.props.filterText)&&n.push(r.a.createElement(b,{product:t,key:t.id,onEdit:e.handleEdit,onDestroy:e.handleDestroy}))})),r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped table-sm"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Instock"),r.a.createElement("th",null,"\xa0"))),r.a.createElement("tbody",null,n)))}}]),t}(a.Component),E={productid:null,category:"",price:"",name:"",instock:null},v=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(d.a)(n)),n.handleSave=n.handleSave.bind(Object(d.a)(n)),n.handleReset=n.handleReset.bind(Object(d.a)(n)),n.state={product:n.props.product&&n.props.product.product||E,errors:{}},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){var t=e.target,n=t.name,a="instock"===n?"true"===t.value:t.value;this.setState((function(e){return e.product[n]=a,{product:e.product}}))}},{key:"handleSave",value:function(e){e.preventDefault(),this.props.onSave(this.state.product),this.handleReset()}},{key:"handleReset",value:function(){this.setState({product:E})}},{key:"render",value:function(){var e=this.state.product;return r.a.createElement("form",{onSubmit:this.handleSave},r.a.createElement("h4",null,null!=e.productid?"Edit the existing product":"Add a new product"),r.a.createElement("p",null,r.a.createElement("label",null,"Name ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",className:"form-control",name:"name",onChange:this.handleChange,value:e.name,required:!0}))),r.a.createElement("p",null,r.a.createElement("label",null,"Category ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",className:"form-control",name:"category",onChange:this.handleChange,value:e.category,required:!0}))),r.a.createElement("p",null,r.a.createElement("label",null,"Price ",r.a.createElement("br",null),r.a.createElement("input",{type:"number",className:"form-control",name:"price",onChange:this.handleChange,value:e.price,required:!0}))),r.a.createElement("label",{className:"d-block mb-3"},"In stock ",r.a.createElement("br",null),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"instock",id:"yes",onChange:this.handleChange,value:"true",checked:!0===e.instock,required:!0}),r.a.createElement("label",{className:"form-check-label",htmlFor:"yes"},"Yes")),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"instock",id:"no",onChange:this.handleChange,value:"false",checked:!1===e.instock,required:!0}),r.a.createElement("label",{className:"form-check-label",htmlFor:"no"},"No"))),r.a.createElement("input",{type:"submit",className:"btn btn-info mr-2",value:"Save"}),r.a.createElement("input",{type:"reset",onClick:this.handleReset,className:"btn btn-danger",value:"Clear"}))}}]),t}(a.Component),y=[],g=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={filterText:"",products:y,currProduct:null},n.handleFilter=n.handleFilter.bind(Object(d.a)(n)),n.handleEdit=n.handleEdit.bind(Object(d.a)(n)),n.handleDestroy=n.handleDestroy.bind(Object(d.a)(n)),n.handleSave=n.handleSave.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getProducts()}},{key:"getProducts",value:function(){var e=this;fetch("/products/get").then((function(e){return e.json()})).then((function(t){if(0===t.success)return alert(t.message);e.setState({products:t.data})}))}},{key:"handleFilter",value:function(e){this.setState(e)}},{key:"handleSave",value:function(e){var t=this;null!=e.productid?fetch("/products/update/"+e.productid,{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){if(0===e.success)return alert(e.message);t.getProducts()})).catch((function(e){return console.error(e)})):fetch("/products/create",{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){if(0===e.success)return alert(e.message);t.getProducts()})).catch((function(e){return console.error(e)}))}},{key:"handleEdit",value:function(e){var t=this.state.products.find((function(t){return t.id===e}));this.setState({currProduct:t})}},{key:"handleDestroy",value:function(e){var t=this;fetch("/products/delete/"+e).then((function(e){return e.json()})).then((function(e){if(0===e.success)return alert(e.message);t.getProducts()}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"My Inventory"),r.a.createElement(p,{onFilter:this.handleFilter}),r.a.createElement(f,{products:this.state.products,filterText:this.state.filterText,onEdit:this.handleEdit,onDestroy:this.handleDestroy}),r.a.createElement(v,{key:this.state.currProduct,product:this.state.currProduct,onSave:this.handleSave}))}}]),t}(a.Component);var k=function(){return r.a.createElement("div",null,r.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.44ea3602.chunk.js.map